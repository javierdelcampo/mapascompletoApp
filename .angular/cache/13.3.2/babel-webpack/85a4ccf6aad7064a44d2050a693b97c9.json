{"ast":null,"code":"import { Map, Popup, Marker } from 'mapbox-gl';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/places.service\";\nimport * as i2 from \"../../services/map.service\";\nconst _c0 = [\"mapDiv\"];\nexport let MapViewComponent = /*#__PURE__*/(() => {\n  class MapViewComponent {\n    constructor(placesService, mapService) {\n      this.placesService = placesService;\n      this.mapService = mapService;\n    }\n\n    ngAfterViewInit() {\n      if (!this.placesService.getUserLocation) throw Error('No hay placesService.userLocation');\n      const map = new Map({\n        container: this.mapDivElement.nativeElement,\n        style: 'mapbox://styles/mapbox/streets-v11',\n        center: this.placesService.userLocation,\n        zoom: 14 // starting zoom\n\n      });\n      const popup = new Popup().setHTML(`\n        <h6>Hola</h6>\n        <span>Estoy aquí</span>\n      `);\n      new Marker({\n        color: 'red'\n      }).setLngLat(this.placesService.userLocation).setPopup(popup).addTo(map);\n      this.mapService.setMap(map);\n    }\n\n  }\n\n  MapViewComponent.ɵfac = function MapViewComponent_Factory(t) {\n    return new (t || MapViewComponent)(i0.ɵɵdirectiveInject(i1.PlacesService), i0.ɵɵdirectiveInject(i2.MapService));\n  };\n\n  MapViewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MapViewComponent,\n    selectors: [[\"app-map-view\"]],\n    viewQuery: function MapViewComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.mapDivElement = _t.first);\n      }\n    },\n    decls: 2,\n    vars: 0,\n    consts: [[1, \"map-container\"], [\"mapDiv\", \"\"]],\n    template: function MapViewComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"div\", 0, 1);\n      }\n    },\n    styles: [\".map-container[_ngcontent-%COMP%]{position:fixed;top:0px;right:0px;width:100vw;height:100vh}\"]\n  });\n  return MapViewComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}